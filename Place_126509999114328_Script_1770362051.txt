-- Script Path: game:GetService("ReplicatedStorage").Core.Sounds.FishUpgradeReady["Fishing Rod"]
-- Took 1.76s to decompile.
-- Executor: Codex (2.0.0)

-- Decompiled with Konstant V2.1, a fast Luau decompiler made in Luau by plusgiant5 (https://discord.gg/brNTY8nX8t)
-- Decompiled on 2026-02-05 23:14:08
-- Luau version 6, Types version 3
-- Time taken: 0.063272 seconds

local module_upvr = {}
module_upvr.__index = module_upvr
module_upvr.Cooldown = 0.5
local LocalPlayer_upvr = game.Players.LocalPlayer
local Client_upvr = require(LocalPlayer_upvr.PlayerScripts.Client)
local random_state_upvr = Random.new()
local RunService_upvr = game:GetService("RunService")
local RaycastParams_new_result1_upvr_2 = RaycastParams.new()
RaycastParams_new_result1_upvr_2.FilterType = Enum.RaycastFilterType.Exclude
local tbl_3_upvr = {
    Color = ColorSequence.new(Color3.fromRGB(255, 141, 1));
    TimeScale = 0.35;
}
local tbl_2_upvr = {{
    Speed = 0.5;
    ZoneSize = 0.33;
    Goal = 2;
    StartingProgress = 3;
}, {
    Speed = 0.54;
    ZoneSize = 0.28;
    Goal = 3;
    StartingProgress = 3;
}, {
    Speed = 0.78;
    ZoneSize = 0.12;
    Goal = 6;
    StartingProgress = 2;
}, {
    Speed = 0.86;
    ZoneSize = 0.075;
    Goal = 10;
    StartingProgress = 1;
    GoalLostOnFail = 4;
}, {
    Speed = 0.9;
    ZoneSize = 0.04;
    Goal = 12;
    StartingProgress = 1;
    GoalLostOnFail = 7;
}}
function module_upvr.new(arg1, arg2) -- Line 29
    --[[ Upvalues[1]:
        [1]: module_upvr (readonly)
    ]]
    local setmetatable_result1 = setmetatable({}, module_upvr)
    setmetatable_result1.Model = arg1
    setmetatable_result1.RealModel = arg2
    setmetatable_result1.LastCast = 0
    setmetatable_result1.State = "Idle"
    setmetatable_result1.CatchCount = 0
    setmetatable_result1.LastPullTime = -5
    setmetatable_result1.Debris = {}
    return setmetatable_result1
end
local TweenService_upvr = game:GetService("TweenService")
function module_upvr.Pull(arg1) -- Line 46
    --[[ Upvalues[3]:
        [1]: Client_upvr (readonly)
        [2]: TweenService_upvr (readonly)
        [3]: LocalPlayer_upvr (readonly)
    ]]
    local var16
    if var16 then
    else
        var16 = true
        arg1.AlreadyClickedThisPass = var16
        var16 = false
        local FishingCatchFrame_upvr = Client_upvr.Interface.FishingCatchFrame
        local function _() -- Line 57, Named "flashSuccessBar"
            --[[ Upvalues[2]:
                [1]: TweenService_upvr (copied, readonly)
                [2]: FishingCatchFrame_upvr (readonly)
            ]]
            task.spawn(function() -- Line 58
                --[[ Upvalues[2]:
                    [1]: TweenService_upvr (copied, readonly)
                    [2]: FishingCatchFrame_upvr (copied, readonly)
                ]]
                TweenService_upvr:Create(FishingCatchFrame_upvr.TimingBar.SuccessArea, TweenInfo.new(0.02, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                    BackgroundColor3 = Color3.fromRGB(255, 255, 255);
                }):Play()
                task.spawn(function() -- Line 61
                    --[[ Upvalues[2]:
                        [1]: TweenService_upvr (copied, readonly)
                        [2]: FishingCatchFrame_upvr (copied, readonly)
                    ]]
                    wait(0.02)
                    TweenService_upvr:Create(FishingCatchFrame_upvr.TimingBar.SuccessArea, TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                        BackgroundColor3 = Color3.fromRGB(0, 255, 0);
                    }):Play()
                end)
            end)
        end
        local Y_2 = FishingCatchFrame_upvr.TimingBar.SuccessArea.AbsolutePosition.Y
        local var23 = FishingCatchFrame_upvr.TimingBar.SuccessArea.AbsolutePosition.Y + FishingCatchFrame_upvr.TimingBar.SuccessArea.AbsoluteSize.Y
        local Y = FishingCatchFrame_upvr.TimingBar.Bar.AbsolutePosition.Y
        local var25 = FishingCatchFrame_upvr.TimingBar.Bar.AbsolutePosition.Y + FishingCatchFrame_upvr.TimingBar.Bar.AbsoluteSize.Y
        if Y_2 >= var25 or Y >= Y_2 or Y < var23 and var23 < var25 or Y_2 < Y and var25 < var23 then
            var16 = true
        end
        if var16 then
            arg1.CatchProgress += 1
            Client_upvr.Sound.Play("FishHitMarker")
            task.spawn(function() -- Line 58
                --[[ Upvalues[2]:
                    [1]: TweenService_upvr (copied, readonly)
                    [2]: FishingCatchFrame_upvr (readonly)
                ]]
                TweenService_upvr:Create(FishingCatchFrame_upvr.TimingBar.SuccessArea, TweenInfo.new(0.02, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                    BackgroundColor3 = Color3.fromRGB(255, 255, 255);
                }):Play()
                task.spawn(function() -- Line 61
                    --[[ Upvalues[2]:
                        [1]: TweenService_upvr (copied, readonly)
                        [2]: FishingCatchFrame_upvr (copied, readonly)
                    ]]
                    wait(0.02)
                    TweenService_upvr:Create(FishingCatchFrame_upvr.TimingBar.SuccessArea, TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                        BackgroundColor3 = Color3.fromRGB(0, 255, 0);
                    }):Play()
                end)
            end)
        else
            Client_upvr.Sound.Play("FishingMissedMarker")
            arg1.CatchProgress -= arg1.GoalLostOnFail or 1
        end
        if arg1.CatchGoal <= arg1.CatchProgress then
            arg1.ItemCaught = true
            Client_upvr.Events.ConfirmCatchItem:FireServer()
            Client_upvr.Sound.Play("FishCatch", {
                Volume = 0.5;
                Replicate = true;
                ReplicationProperties = {
                    Instance = LocalPlayer_upvr.Character.Head;
                    Volume = 0.4;
                };
            })
            arg1:Reel()
            return
        end
        if arg1.CatchProgress <= 0 then
            arg1.ItemCaught = nil
            arg1:Reel()
            return
        end
        if var16 then
            arg1.LastPullTime = time()
            Client_upvr.Events.PlayAnimation:Fire("Rod_Reel", {
                Speed = 2;
            })
            Client_upvr.FirstPersonModule.PlayAnimation("Rod_Reel", nil, 4, 2)
        elseif not var16 then
            Client_upvr.Events.PlayAnimation:Fire("Rod_FailReel", {
                Speed = 1;
            })
            Client_upvr.FirstPersonModule.PlayAnimation("Rod_FailReel", nil, 4, 1)
        end
        local var34 = arg1.CatchProgress / arg1.CatchGoal
        FishingCatchFrame_upvr.SuccessBar.Bar.Size = UDim2.new(1, 0, var34, 0)
        FishingCatchFrame_upvr.SuccessBar.Bar.BackgroundColor3 = GetProgressBarColour(var34)
    end
end
function module_upvr.StartCatchTimer(arg1, arg2, arg3) -- Line 121
    --[[ Upvalues[5]:
        [1]: Client_upvr (readonly)
        [2]: LocalPlayer_upvr (readonly)
        [3]: tbl_2_upvr (readonly)
        [4]: random_state_upvr (readonly)
        [5]: RunService_upvr (readonly)
    ]]
    arg1.CatchCount += 1
    local RopeConstraint_4_upvr = arg1.Model.RopeAttach.RopeConstraint
    task.spawn(function() -- Line 129
        --[[ Upvalues[9]:
            [1]: Client_upvr (copied, readonly)
            [2]: arg1 (readonly)
            [3]: arg2 (readonly)
            [4]: arg3 (readonly)
            [5]: LocalPlayer_upvr (copied, readonly)
            [6]: RopeConstraint_4_upvr (readonly)
            [7]: tbl_2_upvr (copied, readonly)
            [8]: random_state_upvr (copied, readonly)
            [9]: RunService_upvr (copied, readonly)
        ]]
        local any_InvokeServer_result1 = Client_upvr.Events.StartCatchTimer:InvokeServer(arg1.RealModel, arg2, arg3)
        if any_InvokeServer_result1 and any_InvokeServer_result1.Item and arg1.State == "Fishing" and arg1.Equipped then
            Client_upvr.Events.PlayAnimation:Fire("Rod_FishHooked", {
                Speed = 0.4;
            })
            Client_upvr.Sound.Play("FishBite", {
                Volume = 0.5;
                Replicate = true;
                ReplicationProperties = {
                    Instance = LocalPlayer_upvr.Character.Head;
                    Volume = 0.4;
                };
            })
            arg1.HookedItem = any_InvokeServer_result1.Item
            local var41_upvr = RopeConstraint_4_upvr.Length / RopeConstraint_4_upvr.CurrentDistance
            if 1 < var41_upvr then
                local any_new_result1 = Client_upvr.TweenModule.new(function(arg1_2) -- Line 150
                    --[[ Upvalues[2]:
                        [1]: RopeConstraint_4_upvr (copied, readonly)
                        [2]: var41_upvr (readonly)
                    ]]
                    RopeConstraint_4_upvr.Length = RopeConstraint_4_upvr.CurrentDistance * (var41_upvr - (var41_upvr - 1) * arg1_2)
                end, 0.15)
                any_new_result1:BindToComplete(function() -- Line 154
                    --[[ Upvalues[1]:
                        [1]: RopeConstraint_4_upvr (copied, readonly)
                    ]]
                    RopeConstraint_4_upvr.Length = 3
                end)
                any_new_result1:Play()
            else
                RopeConstraint_4_upvr.Length = 3
            end
            local var45 = tbl_2_upvr[any_InvokeServer_result1.Difficulty]
            local var46 = var45.StartingProgress or 3
            arg1.CatchProgress = var46
            arg1.CatchGoal = var45.Goal + var46
            arg1.GoalLostOnFail = var45.GoalLostOnFail or 1
            arg1.AlreadyClickedThisPass = false
            local FishingCatchFrame_upvr_2 = Client_upvr.Interface.FishingCatchFrame
            local var48 = arg1.CatchProgress / arg1.CatchGoal
            FishingCatchFrame_upvr_2.SuccessBar.Bar.Size = UDim2.new(1, 0, var48, 0)
            FishingCatchFrame_upvr_2.SuccessBar.Bar.BackgroundColor3 = GetProgressBarColour(var48)
            FishingCatchFrame_upvr_2.TimingBar.SuccessArea.Size = UDim2.new(1, 0, var45.ZoneSize, 0)
            FishingCatchFrame_upvr_2.TimingBar.SuccessArea.Position = UDim2.new(0.5, 0, random_state_upvr:NextInteger(15, (1 - var45.ZoneSize - 0.3) * 100) / 100, 0)
            local any_GetPlatform_result1_upvr = Client_upvr.Utility.GetPlatform()
            if any_GetPlatform_result1_upvr == "Mobile" then
                FishingCatchFrame_upvr_2.Size = UDim2.new(0.18, 0, 0.8, 0)
            end
            local var50_upvw = 0
            local Speed_upvr = var45.Speed
            local var52_upvw = 0.1
            local function update(arg1_3) -- Line 195
                --[[ Upvalues[6]:
                    [1]: any_GetPlatform_result1_upvr (readonly)
                    [2]: var50_upvw (read and write)
                    [3]: Speed_upvr (readonly)
                    [4]: var52_upvw (read and write)
                    [5]: arg1 (copied, readonly)
                    [6]: FishingCatchFrame_upvr_2 (readonly)
                ]]
                local var53
                if any_GetPlatform_result1_upvr == "Mobile" then
                    var53 *= 0.85
                end
                var50_upvw += var53
                local var54 = math.cos(var50_upvw * math.pi * 2 * Speed_upvr) * 0.45
                if math.sign(var54) ~= math.sign(var52_upvw) then
                    arg1.AlreadyClickedThisPass = false
                end
                var52_upvw = var54
                FishingCatchFrame_upvr_2.TimingBar.Bar.Position = UDim2.new(0.5, 0, (math.sin(var50_upvw * math.pi * 2 * Speed_upvr) / 2 + 0.5) * 0.9 + 0.05, 0)
            end
            RunService_upvr:BindToRenderStep("FishingCatchMinigame", Enum.RenderPriority.First.Value, update)
            update(0)
            FishingCatchFrame_upvr_2.Visible = true
        end
    end)
end
function GetProgressBarColour(arg1) -- Line 220
    return Color3.fromHSV(70 * arg1 / 255, 1, 1)
end
function module_upvr.StartFishingAtLocation(arg1, arg2, arg3) -- Line 226
    --[[ Upvalues[3]:
        [1]: Client_upvr (readonly)
        [2]: tbl_3_upvr (readonly)
        [3]: random_state_upvr (readonly)
    ]]
    arg1.State = "Fishing"
    local Model_2 = arg1.Model
    local RopeConstraint_8_upvr = Model_2.RopeAttach.RopeConstraint
    local Hook_upvr = arg1.Hook
    arg1.FishingInLava = arg2.Instance:GetAttribute("IsLava")
    Client_upvr.GuiButtonHandler.ShowButton("Reel")
    local _ = (Model_2.RopeAttach.Attachment.WorldCFrame.Position - arg3.Position).Unit
    Client_upvr.Events.PlayerRodBobbleInWater:FireOtherClients(arg3)
    local FishingInLava = arg1.FishingInLava
    if FishingInLava then
        FishingInLava = tbl_3_upvr
    end
    Client_upvr.Utility.SpawnParticles("Splash_Cast", arg3, FishingInLava)
    local var60 = Client_upvr.PlayerHandler.HumanoidRootPart.Position + Vector3.new(0, 3, 0)
    local clamped_upvw = math.clamp(((var60 - arg3.Position) * Vector3.new(1, 0, 1)).Magnitude + 10, 10, 100)
    RopeConstraint_8_upvr.Length = RopeConstraint_8_upvr.CurrentDistance + (1 - math.clamp(((var60 - arg3.Position) * Vector3.new(1, 0, 1)).Magnitude / clamped_upvw, 0, 1)) * 2
    local any_GetPivot_result1_upvw = Hook_upvr:GetPivot()
    task.spawn(function() -- Line 271
        --[[ Upvalues[7]:
            [1]: arg1 (readonly)
            [2]: Client_upvr (copied, readonly)
            [3]: arg3 (readonly)
            [4]: any_GetPivot_result1_upvw (read and write)
            [5]: Hook_upvr (readonly)
            [6]: clamped_upvw (read and write)
            [7]: RopeConstraint_8_upvr (readonly)
        ]]
        while arg1.Equipped and arg1.State == "Fishing" do
            task.wait()
            local var64 = Client_upvr.PlayerHandler.HumanoidRootPart.Position + Vector3.new(0, 3, 0)
            local Magnitude = ((var64 + Vector3.new(0, 25 - var64.Y, 0) - arg3.Position) * Vector3.new(1, 0, 1)).Magnitude
            if 0.01 < (any_GetPivot_result1_upvw.Position - arg3.Position).Magnitude then
                local any_Lerp_result1_2 = any_GetPivot_result1_upvw:Lerp(arg3, 0.05)
                any_GetPivot_result1_upvw = any_Lerp_result1_2
                Hook_upvr:PivotTo(any_Lerp_result1_2)
            end
            if clamped_upvw + 0.01 < Magnitude then
                print("too far")
                arg1:Reel()
            end
            if not arg1.HookedItem then
                RopeConstraint_8_upvr.Length = RopeConstraint_8_upvr.CurrentDistance + (1 - math.clamp(Magnitude / clamped_upvw, 0, 1)) * 2
            end
        end
    end)
    task.spawn(function() -- Line 301
        --[[ Upvalues[5]:
            [1]: arg1 (readonly)
            [2]: random_state_upvr (copied, readonly)
            [3]: Client_upvr (copied, readonly)
            [4]: arg3 (readonly)
            [5]: tbl_3_upvr (copied, readonly)
        ]]
        while arg1.Equipped and arg1.State == "Fishing" do
            local var71 = random_state_upvr:NextInteger(15, 35) / 10
            repeat
                local var72
                local function INLINED_2() -- Internal function, doesn't exist in bytecode
                    var72 = var71 * 0.3
                    return var72
                end
                if not arg1.HookedItem or not INLINED_2() then
                    var72 = var71
                end
            until var72 <= 0 + task.wait(0.1) and not arg1.Equipped and arg1.State ~= "Fishing"
            if arg1.Equipped then
                if arg1.State == "Fishing" then
                    local FishingInLava_4 = arg1.FishingInLava
                    if FishingInLava_4 then
                        FishingInLava_4 = tbl_3_upvr
                    end
                    Client_upvr.Utility.SpawnParticles("Splash_Fishing", arg3, FishingInLava_4)
                end
            end
        end
    end)
    arg1:StartCatchTimer(arg2.Instance, arg3.Position)
end
Client_upvr.Events.PlayerCastRod:Connect(function(arg1, arg2) -- Line 323
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    if arg1 and arg1.Character then
        local ToolHandle_3_upvr = arg1.Character:FindFirstChild("ToolHandle")
        if ToolHandle_3_upvr then
            for _, v in pairs(ToolHandle_3_upvr:GetChildren()) do
                if v.Name == "NewBobber" then
                    v:Destroy()
                end
            end
        end
        if ToolHandle_3_upvr and ToolHandle_3_upvr:FindFirstChild("Bobber") then
            local clone_3_upvr = ToolHandle_3_upvr.Bobber:Clone()
            local pairs_result1_15, pairs_result2_6, pairs_result3_4 = pairs(clone_3_upvr:GetChildren())
            for _, v_2 in pairs_result1_15, pairs_result2_6, pairs_result3_4 do
                if v_2:IsA("BasePart") and v_2.Name ~= "BobberMain" then
                    v_2.Transparency = 0
                end
            end
            clone_3_upvr.Name = "NewBobber"
            clone_3_upvr.BobberMain.WeldConstraint:Destroy()
            clone_3_upvr.Parent = ToolHandle_3_upvr
            local RopeConstraint_10_upvr = ToolHandle_3_upvr.RopeAttach.RopeConstraint
            pairs_result3_4 = clone_3_upvr.BobberMain
            RopeConstraint_10_upvr.Attachment1 = pairs_result3_4.RopeAttachment
            pairs_result3_4 = ToolHandle_3_upvr.Bobber:GetChildren()
            local pairs_result1_14, pairs_result2_12, pairs_result3_20 = pairs(pairs_result3_4)
            for _, v_3 in pairs_result1_14, pairs_result2_12, pairs_result3_20 do
                if v_3:IsA("BasePart") then
                    v_3.Transparency = 1
                end
            end
            local RaycastParams_new_result1_upvr = RaycastParams.new()
            pairs_result2_12 = Enum.RaycastFilterType.Exclude
            RaycastParams_new_result1_upvr.FilterType = pairs_result2_12
            pairs_result2_12 = {}
            pairs_result2_12[1] = workspace.Items
            pairs_result2_12[2] = workspace.Particles
            pairs_result2_12[3] = workspace.Map.Blockers
            pairs_result2_12[4] = arg1.Character
            RaycastParams_new_result1_upvr.FilterDescendantsInstances = pairs_result2_12
            print(arg2)
            local unpack_result1_upvr, unpack_result2_upvw, unpack_result3_upvw, unpack_result4_upvr = unpack(arg2)
            local var99_upvw = false
            local var100_upvw
            task.spawn(function() -- Line 370
                --[[ Upvalues[11]:
                    [1]: clone_3_upvr (readonly)
                    [2]: ToolHandle_3_upvr (readonly)
                    [3]: unpack_result3_upvw (read and write)
                    [4]: unpack_result4_upvr (readonly)
                    [5]: unpack_result2_upvw (read and write)
                    [6]: var99_upvw (read and write)
                    [7]: var100_upvw (read and write)
                    [8]: Client_upvr (copied, readonly)
                    [9]: RaycastParams_new_result1_upvr (readonly)
                    [10]: unpack_result1_upvr (readonly)
                    [11]: RopeConstraint_10_upvr (readonly)
                ]]
                while true do
                    local var101
                    if not var101.Parent then break end
                    var101 = ToolHandle_3_upvr
                    if not var101.Parent then break end
                    local task_wait_result1_2 = task.wait()
                    var101 = clone_3_upvr.Parent
                    local function INLINED_3() -- Internal function, doesn't exist in bytecode
                        var101 = clone_3_upvr:GetAttribute("Reeling")
                        return var101
                    end
                    if var101 == nil or INLINED_3() then return end
                    var101 = unpack_result3_upvw
                    var101 += unpack_result4_upvr * task_wait_result1_2
                    unpack_result3_upvw = var101
                    var101 = unpack_result2_upvw + unpack_result3_upvw * task_wait_result1_2
                    if not var99_upvw then
                        var99_upvw = true
                        var101 = unpack_result2_upvw + unpack_result3_upvw.Unit * 1
                    end
                    var100_upvw = Client_upvr.CollisionUtility.GetProjectileHit(unpack_result2_upvw, var101, RaycastParams_new_result1_upvr)
                    if var100_upvw then break end
                    unpack_result2_upvw = var101
                    local var103 = unpack_result1_upvr + unpack_result2_upvw - unpack_result3_upvw.Unit * 1
                    clone_3_upvr:PivotTo(var103)
                    local var104 = Client_upvr.PlayerHandler.HumanoidRootPart.Position + Vector3.new(0, 3, 0)
                    RopeConstraint_10_upvr.Length = RopeConstraint_10_upvr.CurrentDistance + (1 - math.clamp(((var104 - var103.Position) * Vector3.new(1, 0, 1)).Magnitude / math.clamp(((var104 - var103.Position) * Vector3.new(1, 0, 1)).Magnitude + 10, 10, 100), 0, 1)) * 2
                end
                if var100_upvw then
                    clone_3_upvr:Destroy()
                end
            end)
        end
    end
end)
Client_upvr.Events.PlayerRodBobbleInWater:Connect(function(arg1, arg2) -- Line 416
    if arg1 and arg1.Character then
        local ToolHandle_4 = arg1.Character:FindFirstChild("ToolHandle")
        if ToolHandle_4 and ToolHandle_4:FindFirstChild("Bobber") then
            local clone = ToolHandle_4.Bobber:Clone()
            for _, v_4 in pairs(clone:GetChildren()) do
                if v_4:IsA("BasePart") and v_4.Name ~= "BobberMain" then
                    v_4.Transparency = 0
                end
            end
            clone.Name = "NewBobber"
            clone.BobberMain.WeldConstraint:Destroy()
            clone:PivotTo(arg2)
            clone.Parent = ToolHandle_4
            local RopeConstraint_6 = ToolHandle_4.RopeAttach.RopeConstraint
            RopeConstraint_6.Attachment1 = clone.BobberMain.RopeAttachment
            RopeConstraint_6.Length = 0
            for _, v_5 in pairs(ToolHandle_4.Bobber:GetChildren()) do
                if v_5:IsA("BasePart") then
                    v_5.Transparency = 1
                end
            end
        end
    end
end)
Client_upvr.Events.PlayerRodReset:Connect(function(arg1, arg2) -- Line 447
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    if arg1 and arg1.Character then
        local ToolHandle = arg1.Character:FindFirstChild("ToolHandle")
        if ToolHandle and ToolHandle:FindFirstChild("NewBobber") and ToolHandle:FindFirstChild("Bobber") then
            local function INLINED_5() -- Internal function, doesn't exist in bytecode
                task.wait(0.65)
                Client_upvr.TweenModule.new(function(arg1_5) -- Line 462
                    --[[ Upvalues[3]:
                        [1]: NewBobber_upvr_2 (readonly)
                        [2]: Bobber_upvr (readonly)
                        [3]: any_GetPivot_result1_3_upvr (readonly)
                    ]]
                    if not NewBobber_upvr_2 or not NewBobber_upvr_2.Parent or not Bobber_upvr.Parent then
                        return true
                    end
                    NewBobber_upvr_2:PivotTo(any_GetPivot_result1_3_upvr:Lerp(Bobber_upvr:GetPivot(), arg1_5))
                end, 0.65, "Quad"):Play()
                local any_GetPivot_result1_3_upvr = NewBobber_upvr_2:GetPivot()
                NewBobber_upvr_2:SetAttribute("Reeling", true)
                local Bobber_upvr = ToolHandle.Bobber
                local NewBobber_upvr_2 = ToolHandle.NewBobber
                ToolHandle.RopeAttach.RopeConstraint.Length = 0
                return NewBobber_upvr_2.Parent
            end
            if arg2 and (not INLINED_5() or not Bobber_upvr.Parent) then return end
            NewBobber_upvr_2 = ToolHandle:GetChildren()
            local pairs_result1_6, pairs_result2_8, pairs_result3_11 = pairs(NewBobber_upvr_2)
            for _, v_6 in pairs_result1_6, pairs_result2_8, pairs_result3_11 do
                if v_6.Name == "NewBobber" then
                    v_6:Destroy()
                end
            end
            pairs_result3_11 = "Bobber"
            if ToolHandle:FindFirstChild(pairs_result3_11) then
                pairs_result2_8 = ToolHandle.RopeAttach
                local RopeConstraint_2 = pairs_result2_8.RopeConstraint
                pairs_result3_11 = ToolHandle.Bobber.BobberMain
                pairs_result2_8 = pairs_result3_11.RopeAttachment
                RopeConstraint_2.Attachment1 = pairs_result2_8
                pairs_result2_8 = 0
                RopeConstraint_2.Length = pairs_result2_8
                pairs_result2_8 = pairs
                pairs_result3_11 = ToolHandle.Bobber:GetChildren()
                pairs_result2_8 = pairs_result2_8(pairs_result3_11)
                for _, v_7 in pairs_result2_8(pairs_result3_11) do
                    if v_7:IsA("BasePart") and v_7.Name ~= "BobberMain" then
                        v_7.Transparency = 0
                    end
                end
            end
        end
    end
end)
local mouse_upvr = LocalPlayer_upvr:GetMouse()
function module_upvr.Cast(arg1) -- Line 500
    --[[ Upvalues[4]:
        [1]: Client_upvr (readonly)
        [2]: LocalPlayer_upvr (readonly)
        [3]: mouse_upvr (readonly)
        [4]: RaycastParams_new_result1_upvr_2 (readonly)
    ]]
    print("Cast rod")
    arg1.ItemHooked = nil
    arg1.ItemCaught = nil
    arg1.HookedItem = nil
    Client_upvr.Sound.Play("FishCast", {
        Volume = 0.5;
        Replicate = true;
        ReplicationProperties = {
            Instance = LocalPlayer_upvr.Character.Head;
            Volume = 0.4;
        };
    })
    local var235
    if LocalPlayer_upvr:GetAttribute("Class") == "Fisherman" and 2 <= (LocalPlayer_upvr:GetAttribute("ClassLevel") or 1) then
        var235 = true
    end
    if Client_upvr.Utility.HasTalent(LocalPlayer_upvr, "FishingRodIncreaseCast") then
        var235 = true
    end
    if var235 then
        Client_upvr.Events.PlayAnimation:Fire("Rod_Cast", {
            Speed = 4;
        })
        Client_upvr.FirstPersonModule.PlayAnimation("Rod_Cast", nil, 4, 4)
        task.wait(0.05)
    else
        Client_upvr.Events.PlayAnimation:Fire("Rod_Cast")
        Client_upvr.FirstPersonModule.PlayAnimation("Rod_Cast", nil, 4)
        task.wait(0.45)
    end
    if not arg1.Equipped then
    else
        arg1.State = "Casting"
        local Model_5 = arg1.Model
        local Bobber = Model_5.Bobber
        local any_GetPivot_result1_2 = Bobber:GetPivot()
        if Client_upvr.FirstPersonModule.IsVisible() then
            local any_GetTool_result1 = Client_upvr.FirstPersonModule.GetTool()
            if any_GetTool_result1 then
                any_GetPivot_result1_2 = any_GetTool_result1.Bobber:GetPivot()
            end
        end
        local Position_upvw = any_GetPivot_result1_2.Position
        local var242 = 50
        if var235 then
            var242 = 70
        end
        local var243_upvw = (mouse_upvr.Hit.Position - any_GetPivot_result1_2.Position).Unit * var242 + Vector3.new(0, 10, 0)
        local clone_2_upvr = Bobber:Clone()
        for _, v_13 in pairs(Bobber:GetChildren()) do
            if v_13:IsA("BasePart") then
                v_13.Transparency = 1
            end
        end
        local any_GetTool_result1_5 = Client_upvr.FirstPersonModule.GetTool()
        if any_GetTool_result1_5 then
            for _, v_14 in pairs(any_GetTool_result1_5.Bobber:GetChildren()) do
                if v_14:IsA("BasePart") then
                    v_14.Transparency = 1
                end
            end
        end
        for _, v_15 in pairs(clone_2_upvr:GetDescendants()) do
            if v_15:IsA("BasePart") then
                if v_15.Name ~= "BobberMain" then
                    v_15.Transparency = 0
                end
                v_15.CanCollide = false
                v_15.Anchored = true
            end
        end
        clone_2_upvr.PrimaryPart.WeldConstraint:Destroy()
        arg1.Hook = clone_2_upvr
        clone_2_upvr.Parent = workspace.Particles
        local var255_upvw = any_GetPivot_result1_2 - any_GetPivot_result1_2.Position
        Client_upvr.Events.PlayerCastRod:FireOtherClients({var255_upvw, Position_upvw, var243_upvw, Vector3.new(0, -60, 0)})
        local var258_upvw = false
        local var259_upvw
        local RopeConstraint_9_upvr = Model_5.RopeAttach.RopeConstraint
        task.spawn(function() -- Line 609
            --[[ Upvalues[10]:
                [1]: arg1 (readonly)
                [2]: var243_upvw (read and write)
                [3]: Position_upvw (read and write)
                [4]: var258_upvw (read and write)
                [5]: var259_upvw (read and write)
                [6]: Client_upvr (copied, readonly)
                [7]: RaycastParams_new_result1_upvr_2 (copied, readonly)
                [8]: var255_upvw (read and write)
                [9]: clone_2_upvr (readonly)
                [10]: RopeConstraint_9_upvr (readonly)
            ]]
            while arg1.Equipped and arg1.State == "Casting" do
                local task_wait_result1 = task.wait()
                var243_upvw += Vector3.new(0, -60, 0) * task_wait_result1
                local var266 = Position_upvw + var243_upvw * task_wait_result1
                if not var258_upvw then
                    var258_upvw = true
                    var266 = Position_upvw + var243_upvw.Unit * 1
                end
                var259_upvw = Client_upvr.CollisionUtility.GetProjectileHit(Position_upvw, var266, RaycastParams_new_result1_upvr_2)
                if var259_upvw then break end
                Position_upvw = var266
                local var267 = var255_upvw + Position_upvw - var243_upvw.Unit * 1
                clone_2_upvr:PivotTo(var267)
                local var268 = Client_upvr.PlayerHandler.HumanoidRootPart.Position + Vector3.new(0, 3, 0)
                RopeConstraint_9_upvr.Length = RopeConstraint_9_upvr.CurrentDistance + (1 - math.clamp(((var268 - var267.Position) * Vector3.new(1, 0, 1)).Magnitude / math.clamp(((var268 - var267.Position) * Vector3.new(1, 0, 1)).Magnitude + 10, 10, 100), 0, 1)) * 2
            end
            if not arg1.Equipped then
            elseif var259_upvw then
                if var259_upvw.Instance:HasTag("Water") then
                    Client_upvr.Sound.Play("FishBobber")
                    arg1:StartFishingAtLocation(var259_upvw, CFrame.new(var259_upvw.Position) + Vector3.new(0, 0, 0))
                    return
                end
                print("collision with land")
                for _, v_16 in pairs(clone_2_upvr:GetChildren()) do
                    if v_16:IsA("BasePart") then
                        local var272 = true
                        if v_16.Name ~= "BobberMain" then
                            if v_16.Name ~= "Hook" then
                                var272 = false
                            else
                                var272 = true
                            end
                        end
                        v_16.CanCollide = var272
                        v_16.Anchored = false
                    end
                end
                clone_2_upvr.PrimaryPart.CanTouch = true
                clone_2_upvr.PrimaryPart.CanQuery = true
                RopeConstraint_9_upvr.Attachment1 = clone_2_upvr.PrimaryPart.RopeAttachment
                clone_2_upvr.PrimaryPart.Touched:Connect(function(arg1_7) -- Line 670
                    --[[ Upvalues[1]:
                        [1]: arg1 (copied, readonly)
                    ]]
                    if arg1_7:HasTag("Water") then
                        arg1:Reel()
                    end
                end)
                local maximum_upvr_2 = math.max(RopeConstraint_9_upvr.Length, 1)
                task.spawn(function() -- Line 678
                    --[[ Upvalues[4]:
                        [1]: arg1 (copied, readonly)
                        [2]: clone_2_upvr (copied, readonly)
                        [3]: RopeConstraint_9_upvr (copied, readonly)
                        [4]: maximum_upvr_2 (readonly)
                    ]]
                    while arg1.Equipped and arg1.State == "Casting" and clone_2_upvr.Parent ~= nil do
                        RopeConstraint_9_upvr.Length = math.clamp(RopeConstraint_9_upvr.CurrentDistance * 1.05, 1, maximum_upvr_2)
                        task.wait()
                    end
                end)
            end
        end)
    end
end
function module_upvr.Break(arg1) -- Line 690
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    print("time to break locally")
    arg1.Broken = true
    Client_upvr.InventoryHandler.ClearItemFromInventory(arg1.RealModel)
end
function module_upvr.CleanUp(arg1) -- Line 696
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    for _, v_8_upvr in pairs(arg1.Debris) do
        if v_8_upvr.Name == "FishingParticles" then
            task.delay(3, function() -- Line 699
                --[[ Upvalues[1]:
                    [1]: v_8_upvr (readonly)
                ]]
                v_8_upvr:Destroy()
            end)
        else
            v_8_upvr:Destroy()
        end
    end
    arg1.Debris = {}
    Client_upvr.GuiButtonHandler.HideButton("Reel")
end
function module_upvr.Reel(arg1) -- Line 711
    --[[ Upvalues[4]:
        [1]: Client_upvr (readonly)
        [2]: RunService_upvr (readonly)
        [3]: tbl_3_upvr (readonly)
        [4]: LocalPlayer_upvr (readonly)
    ]]
    if arg1.State == "Casting" or arg1.State == "Fishing" then
        arg1.State = "Reeling"
        Client_upvr.GuiButtonHandler.HideButton("Reel")
        Client_upvr.Events.PlayerRodReset:FireOtherClients(true)
        if not arg1.ItemCaught then
            Client_upvr.Events.EndCatching:FireServer()
        end
        Client_upvr.Events.StopAnimation:Fire("Rod_FishHooked")
        Client_upvr.Interface.FishingCatchFrame.Visible = false
        RunService_upvr:UnbindFromRenderStep("FishingCatchMinigame")
        local any_GetPivot_result1 = arg1.Hook:GetPivot()
        arg1.ReelOrigin = any_GetPivot_result1
        arg1.ReelPercent = 0
        if arg1.ItemCaught then
            if arg1.HookedItem and arg1.HookedItem:GetAttribute("BigCatch") then
                local FishingInLava_2 = arg1.FishingInLava
                if FishingInLava_2 then
                    FishingInLava_2 = tbl_3_upvr
                end
                Client_upvr.Utility.SpawnParticles("Splash_CatchBig", any_GetPivot_result1, FishingInLava_2)
            else
                FishingInLava_2 = arg1.FishingInLava
                local var284 = FishingInLava_2
                if var284 then
                    var284 = tbl_3_upvr
                end
                Client_upvr.Utility.SpawnParticles("Splash_Catch", any_GetPivot_result1, var284)
            end
        end
        arg1.Model.RopeAttach.RopeConstraint.Attachment1 = arg1.FakeAttachHook
        local any_new_result1_2 = Client_upvr.TweenModule.new(function(arg1_8) -- Line 742
            --[[ Upvalues[1]:
                [1]: arg1 (readonly)
            ]]
            arg1.ReelPercent = arg1_8
        end, 0.65, "Quad")
        any_new_result1_2:BindToComplete(function() -- Line 745
            --[[ Upvalues[1]:
                [1]: arg1 (readonly)
            ]]
            arg1.State = "Idle"
            arg1.LastCast = time()
            arg1:ResetHook()
            arg1:CleanUp()
        end)
        any_new_result1_2:Play()
        Client_upvr.Sound.Play("FishReel", {
            Volume = 0.55;
            Replicate = true;
            ReplicationProperties = {
                Instance = LocalPlayer_upvr.Character.Head;
                Volume = 0.3;
            };
        })
        Client_upvr.Events.PlayAnimation:Fire("Rod_Reel", {
            Speed = 2;
        })
        Client_upvr.FirstPersonModule.PlayAnimation("Rod_Reel", nil, 4, 2)
    end
end
function module_upvr.ResetHook(arg1) -- Line 766
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    local Model_4 = arg1.Model
    for _, v_9 in pairs(Model_4.Bobber:GetChildren()) do
        if v_9:IsA("BasePart") and v_9.Name ~= "BobberMain" then
            v_9.Transparency = 0
        end
    end
    local any_GetTool_result1_3 = Client_upvr.FirstPersonModule.GetTool()
    if any_GetTool_result1_3 then
        for _, v_10 in pairs(any_GetTool_result1_3.Bobber:GetChildren()) do
            if v_10:IsA("BasePart") and v_10.Name ~= "BobberMain" then
                v_10.Transparency = 0
            end
        end
    end
    Model_4.RopeAttach.RopeConstraint.Length = 0
    if arg1.Hook then
        arg1.Hook:Destroy()
        arg1.Hook = nil
    end
    Client_upvr.Events.PlayerRodReset:FireOtherClients()
end
function module_upvr.Activate(arg1) -- Line 799
    if arg1.State == "Idle" then
        if time() < arg1.LastCast + arg1.Cooldown then
        else
            arg1.LastCast = time()
            arg1:Cast()
        end
    end
    if arg1.State == "Casting" then
        if time() < arg1.LastCast + arg1.Cooldown then
        else
            arg1.LastCast = time()
            arg1:Reel()
        end
    end
    if arg1.State == "Fishing" then
        if arg1.HookedItem then
            arg1:Pull()
            return
        end
        if time() < arg1.LastCast + arg1.Cooldown then return end
        arg1.LastCast = time()
        arg1:Reel()
    end
end
function module_upvr.Deactivate(arg1) -- Line 828
end
function module_upvr.UpdateHook(arg1) -- Line 832
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    task.spawn(function() -- Line 833
        --[[ Upvalues[2]:
            [1]: arg1 (readonly)
            [2]: Client_upvr (copied, readonly)
        ]]
        -- KONSTANTERROR: [0] 1. Error Block 1 start (CF ANALYSIS FAILED)
        local Model_3 = arg1.Model
        local RopeConstraint_7 = Model_3.RopeAttach.RopeConstraint
        local Attachment_2 = Model_3.RopeAttach.Attachment
        local Attachment_4 = Instance.new("Attachment")
        Attachment_4.WorldCFrame = Attachment_2.WorldCFrame
        Attachment_4.Parent = workspace.Terrain
        local Attachment_6 = Instance.new("Attachment")
        Attachment_6.WorldCFrame = Attachment_2.WorldCFrame
        Attachment_6.Parent = workspace.Terrain
        arg1.FakeAttachHook = Attachment_6
        RopeConstraint_7.Attachment0 = Attachment_4
        RopeConstraint_7.Attachment1 = Attachment_6
        -- KONSTANTERROR: [0] 1. Error Block 1 end (CF ANALYSIS FAILED)
        -- KONSTANTERROR: [266] 170. Error Block 34 start (CF ANALYSIS FAILED)
        task.wait()
        -- KONSTANTERROR: [266] 170. Error Block 34 end (CF ANALYSIS FAILED)
        -- KONSTANTERROR: [54] 32. Error Block 2 start (CF ANALYSIS FAILED)
        -- KONSTANTERROR: [54] 32. Error Block 2 end (CF ANALYSIS FAILED)
    end)
end
function module_upvr.ToggleLevelParticles(arg1, arg2) -- Line 920
    --[[ Upvalues[1]:
        [1]: Client_upvr (readonly)
    ]]
    for _, v_11 in pairs(arg1.Model:GetDescendants()) do
        if v_11:IsA("ParticleEmitter") and v_11.Name == "UpgradeParticles" then
            v_11.Enabled = arg2
        end
    end
    if Client_upvr.FirstPersonModule.IsVisible() then
        local any_GetTool_result1_2 = Client_upvr.FirstPersonModule.GetTool()
        if any_GetTool_result1_2 then
            for _, v_12 in pairs(any_GetTool_result1_2:GetDescendants()) do
                if v_12:IsA("ParticleEmitter") and v_12.Name == "UpgradeParticles" then
                    v_12.Enabled = arg2
                end
            end
        end
    end
end
function module_upvr.TrackLevelUp(arg1) -- Line 939
    arg1.RealModel:GetAttributeChangedSignal("XP"):Connect(function() -- Line 940, Named "update"
        --[[ Upvalues[1]:
            [1]: arg1 (readonly)
        ]]
        local XP_2 = arg1.RealModel:GetAttribute("XP")
        local LevelUpXP_2 = arg1.RealModel:GetAttribute("LevelUpXP")
        if XP_2 and LevelUpXP_2 and LevelUpXP_2 <= XP_2 then
            arg1:ToggleLevelParticles(true)
        else
            arg1:ToggleLevelParticles(false)
        end
    end)
    local XP = arg1.RealModel:GetAttribute("XP")
    local LevelUpXP = arg1.RealModel:GetAttribute("LevelUpXP")
    if XP and LevelUpXP then
        if LevelUpXP <= XP then
            arg1:ToggleLevelParticles(true)
            return
        end
    end
    arg1:ToggleLevelParticles(false)
end
function module_upvr.OnEquip(arg1) -- Line 954
    --[[ Upvalues[2]:
        [1]: LocalPlayer_upvr (readonly)
        [2]: RaycastParams_new_result1_upvr_2 (readonly)
    ]]
    arg1.Equipped = true
    RaycastParams_new_result1_upvr_2.FilterDescendantsInstances = {workspace.Items, workspace.Particles, workspace.Map.Blockers, LocalPlayer_upvr.Character}
    arg1:UpdateHook()
    arg1:TrackLevelUp()
end
function module_upvr.OnUnequip(arg1) -- Line 965
    --[[ Upvalues[2]:
        [1]: Client_upvr (readonly)
        [2]: RunService_upvr (readonly)
    ]]
    arg1.Equipped = false
    Client_upvr.Events.EndCatching:FireServer()
    Client_upvr.FirstPersonModule.StopAnimation("PullingRod")
    Client_upvr.Events.StopAnimation:Fire("Rod_FishHooked")
    Client_upvr.Interface.FishingCatchFrame.Visible = false
    RunService_upvr:UnbindFromRenderStep("FishingCatchMinigame")
    Client_upvr.GuiButtonHandler.HideButton("Reel")
    arg1:ResetHook()
    arg1:CleanUp()
end
return module_upvr
